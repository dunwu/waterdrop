import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,o as e}from"./app-D9ZsBuuN.js";const l={};function t(p,s){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="velocity-快速入门" tabindex="-1"><a class="header-anchor" href="#velocity-快速入门"><span>Velocity 快速入门</span></a></h1><p><strong>Velocity （简称 VTL）是一个基于 Java 的模版引擎</strong>。它允许 web 页面设计者引用 JAVA 代码预定义的方法。Web 设计者可以根据 MVC 模式和 JAVA 程序员并行工作，这意味着 Web 设计者可以单独专注于设计良好的站点，而程序员则可单独专注于编写底层代码。Velocity 将 Java 代码从 web 页面中分离出来，使站点在长时间运行后仍然具有很好的可维护性，并提供了一个除 JSP 和 PHP 之外的可行的被选方案。</p><h2 id="注释" tabindex="-1"><a class="header-anchor" href="#注释"><span>注释</span></a></h2><p>单行注释以##开始，并在本行结束。</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>## This is a single line comment.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>多行注释，以 <code>#</code> 开始并以 <code>#</code> 结束可以处理这种情况。</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>#*</span></span>
<span class="line"><span> Thus begins a multi-line comment. Online visitors won&#39;t</span></span>
<span class="line"><span> see this text because the Velocity Templating Engine will</span></span>
<span class="line"><span> ignore it.</span></span>
<span class="line"><span>*#</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注释块 ，可以用来存储诸如文档作者、版本信息等。</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>#**</span></span>
<span class="line"><span>This is a VTL comment block and</span></span>
<span class="line"><span>may be used to store such information</span></span>
<span class="line"><span>as the document author and versioning</span></span>
<span class="line"><span>information:</span></span>
<span class="line"><span>@author</span></span>
<span class="line"><span>@version 5</span></span>
<span class="line"><span>*#</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="引用" tabindex="-1"><a class="header-anchor" href="#引用"><span>引用</span></a></h2><p>VTL 中有三种类型的引用：变量，属性和方法。</p><h3 id="变量" tabindex="-1"><a class="header-anchor" href="#变量"><span>变量</span></a></h3><p>变量（Variables）的简略标记是有一个前导 <code>$</code> 字符后跟一个 VTL 标识符（Identifier.）组成。一个 VTL 标识符必须以一个字母开始(a .. z 或 A .. Z)。</p><p>剩下的字符将由以下类型的字符组成：</p><ul><li>字母 (a .. z, A .. Z)</li><li>数字 (0 .. 9)</li><li>连字符(&quot;-&quot;)</li><li>下划线 (&quot;_&quot;)</li></ul><p>示例：有效变量</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>## 有效变量变量名</span></span>
<span class="line"><span>$foo</span></span>
<span class="line"><span>$mudSlinger</span></span>
<span class="line"><span>$mud-slinger</span></span>
<span class="line"><span>$mud_slinger</span></span>
<span class="line"><span>$mudSlinger1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 给变量赋值</span></span>
<span class="line"><span>#set( $foo = &quot;bar&quot; )</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="属性" tabindex="-1"><a class="header-anchor" href="#属性"><span>属性</span></a></h3><p>VTL 引用的第二种元素是属性，而属性具有独特的格式。属性的简略标记识前导符 <code>$</code> 后跟一个 VTL 标识符，在后跟一个点号(&quot;.&quot;)最后又是一个 VTL 标识符。</p><p>示例：有效属性</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>$customer.Address</span></span>
<span class="line"><span>$purchase.Total</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="方法" tabindex="-1"><a class="header-anchor" href="#方法"><span>方法</span></a></h3><p>方法在 JAVA 代码中定义，并作一些有用的事情，比如运行一个计算器或者作出一个决定。方法是实际上也是引用，由前导符 <code>$</code> 后跟一个 VTL 标识符，后跟一个 VTL 方法体（Method Body）。 VTL 方法体由一个 VTL 标识符后跟一个左括号，再跟可选的参数列表，最后是右括号。</p><p>示例：有效方法</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>$customer.getAddress()</span></span>
<span class="line"><span>$purchase.getTotal()</span></span>
<span class="line"><span>$page.setTitle( &quot;My Home Page&quot; )</span></span>
<span class="line"><span>$person.setAttributes( [&quot;Strange&quot;, &quot;Weird&quot;, &quot;Excited&quot;] )</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="赋值" tabindex="-1"><a class="header-anchor" href="#赋值"><span>赋值</span></a></h2><p><code>#set</code> 指令用来为引用设置相应的值。值可以被值派给变量引用或者是属性引用，而且赋值要在括号里括起来。</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>#set( $monkey = $bill ) ## variable reference</span></span>
<span class="line"><span>#set( $monkey.Friend = &quot;monica&quot; ) ## string literal</span></span>
<span class="line"><span>#set( $monkey.Blame = $whitehouse.Leak ) ## property reference</span></span>
<span class="line"><span>#set( $monkey.Plan = $spindoctor.weave($web) ) ## method reference</span></span>
<span class="line"><span>#set( $monkey.Number = 123 ) ##number literal</span></span>
<span class="line"><span>#set( $monkey.Say = [&quot;Not&quot;, $my, &quot;fault&quot;] ) ## ArrayList</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="字符串" tabindex="-1"><a class="header-anchor" href="#字符串"><span>字符串</span></a></h2><p>使用 <code>#set</code> 指令时，括在双引号中的字面字符串将解析和重新解释 。 然而，当字面字符串括在单引号中时，不被解析：</p><p>示例：</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>#set( $foo = &quot;bar&quot; )</span></span>
<span class="line"><span>$foo</span></span>
<span class="line"><span>#set( $blargh = &#39;$foo&#39; )</span></span>
<span class="line"><span>$blargh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出：</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>Bar</span></span>
<span class="line"><span> $foo</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="条件" tabindex="-1"><a class="header-anchor" href="#条件"><span>条件</span></a></h2><p>VTL 使用 <code>#If</code>、<code>#elseif</code>、<code>#else</code> 指令做条件语句控制。</p><p>示例：</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>#if( $foo &lt; 10 )</span></span>
<span class="line"><span>    &lt;strong&gt;Go North&lt;/strong&gt;</span></span>
<span class="line"><span>#elseif( $foo == 10 )</span></span>
<span class="line"><span>    &lt;strong&gt;Go East&lt;/strong&gt;</span></span>
<span class="line"><span>#elseif( $bar == 6 )</span></span>
<span class="line"><span>    &lt;strong&gt;Go South&lt;/strong&gt;</span></span>
<span class="line"><span>#else</span></span>
<span class="line"><span>    &lt;strong&gt;Go West&lt;/strong&gt;</span></span>
<span class="line"><span>#end</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="逻辑" tabindex="-1"><a class="header-anchor" href="#逻辑"><span>逻辑</span></a></h2><p>VTL 支持与（<code>&amp;&amp;</code>）、或（<code>||</code>）、非（<code>!</code>）逻辑判断。</p><p>示例：</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>#if( $foo &amp;&amp; $bar )</span></span>
<span class="line"><span>   &lt;strong&gt; This AND that&lt;/strong&gt;</span></span>
<span class="line"><span>#end</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#if( $foo || $bar )</span></span>
<span class="line"><span>    &lt;strong&gt;This or That&lt;/strong&gt;</span></span>
<span class="line"><span>#end</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#if( !$foo )</span></span>
<span class="line"><span> &lt;strong&gt;NOT that&lt;/strong&gt;</span></span>
<span class="line"><span>#end</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="循环" tabindex="-1"><a class="header-anchor" href="#循环"><span>循环</span></a></h2><p>VTL 通过 <code>#foreach</code> 支持循环</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>&lt;ul&gt;</span></span>
<span class="line"><span>#foreach( $product in $allProducts )</span></span>
<span class="line"><span>    &lt;li&gt;$product&lt;/li&gt;</span></span>
<span class="line"><span>#end</span></span>
<span class="line"><span>&lt;/ul&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="包含" tabindex="-1"><a class="header-anchor" href="#包含"><span>包含</span></a></h2><p>VTL 通过 <code>#include</code> 来导入其他文件。</p><p>示例：</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>#include( &quot;one.txt&quot; )</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#include( &quot;one.gif&quot;,&quot;two.txt&quot;,&quot;three.htm&quot; )</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#include( &quot;greetings.txt&quot;, $seasonalstock )</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="解析" tabindex="-1"><a class="header-anchor" href="#解析"><span>解析</span></a></h2><p>VTL 通过 <code>#parse</code> 导入其他 vm 文件。</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>$count</span></span>
<span class="line"><span>#set( $count = $count - 1 )</span></span>
<span class="line"><span>#if( $count &gt; 0 )</span></span>
<span class="line"><span>    #parse( &quot;parsefoo.vm&quot; )</span></span>
<span class="line"><span>#else</span></span>
<span class="line"><span>    All done with parsefoo.vm!</span></span>
<span class="line"><span>#end</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="停止" tabindex="-1"><a class="header-anchor" href="#停止"><span>停止</span></a></h2><p>VTL 使用 <code>#stop</code> 停止模板引擎的执行，并返回。这通常用作调试。</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>#stop ##</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="宏" tabindex="-1"><a class="header-anchor" href="#宏"><span>宏</span></a></h2><p>VTL 使用 <code>#macro</code> 和 <code>#end</code> 配合来定义宏，以此实现自定义指令。</p><p>示例一：</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>## 定义宏</span></span>
<span class="line"><span>#macro( d )</span></span>
<span class="line"><span>&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span>#end</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 使用宏</span></span>
<span class="line"><span>#d()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例二：</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>## 定义宏</span></span>
<span class="line"><span>#macro( tablerows $color $somelist )</span></span>
<span class="line"><span>  #foreach( $something in $somelist )</span></span>
<span class="line"><span>    &lt;tr&gt;&lt;td bgcolor=$color&gt;$something&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span>  #end</span></span>
<span class="line"><span>#end</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 使用宏</span></span>
<span class="line"><span>#set( $greatlakes = [&quot;Superior&quot;,&quot;Michigan&quot;,&quot;Huron&quot;,&quot;Erie&quot;,&quot;Ontario&quot;] )</span></span>
<span class="line"><span>#set( $color = &quot;blue&quot; )</span></span>
<span class="line"><span>&lt;table&gt;</span></span>
<span class="line"><span>    #tablerows( $color $greatlakes )</span></span>
<span class="line"><span>&lt;/table&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出：</p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-html"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">td</span><span style="--shiki-light:#000000;--shiki-dark:#D19A66;"> bgcolor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;blue&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Superior&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">td</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">td</span><span style="--shiki-light:#000000;--shiki-dark:#D19A66;"> bgcolor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;blue&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Michigan&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">td</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">td</span><span style="--shiki-light:#000000;--shiki-dark:#D19A66;"> bgcolor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;blue&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Huron&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">td</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">td</span><span style="--shiki-light:#000000;--shiki-dark:#D19A66;"> bgcolor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;blue&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Erie&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">td</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">td</span><span style="--shiki-light:#000000;--shiki-dark:#D19A66;"> bgcolor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;blue&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Ontario&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">td</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="转义" tabindex="-1"><a class="header-anchor" href="#转义"><span>转义</span></a></h2><p>VTL 使用 <code>\\</code> 符号来进行字符转义。</p><p>示例一</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>## The following line defines $email in this template:</span></span>
<span class="line"><span>#set( $email = &quot;foo&quot; )</span></span>
<span class="line"><span>$email</span></span>
<span class="line"><span>\\$email</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出：</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>foo</span></span>
<span class="line"><span>$email</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="语义要点" tabindex="-1"><a class="header-anchor" href="#语义要点"><span>语义要点</span></a></h2><p>Velocity 有一些语义要点，容易产生歧义，这里归纳一下。</p><p>（1）<strong>Velocity 的行为并不受空格的影响</strong>。</p><p>示例：以下三种写法效果一致</p><div class="language-velocity line-numbers-mode" data-highlighter="shiki" data-ext="velocity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-velocity"><span class="line"><span>## 写法一</span></span>
<span class="line"><span>Send me #set($foo = [&quot;$10 and &quot;,&quot;a cake&quot;])#foreach($a in $foo)$a #end please.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 写法二</span></span>
<span class="line"><span>Send me</span></span>
<span class="line"><span>#set( $foo = [&quot;$10 and &quot;,&quot;a cake&quot;] )</span></span>
<span class="line"><span>#foreach( $a in $foo )</span></span>
<span class="line"><span>$a</span></span>
<span class="line"><span>#end</span></span>
<span class="line"><span>please.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 写法三</span></span>
<span class="line"><span>Send me</span></span>
<span class="line"><span>#set($foo       = [&quot;$10 and &quot;,&quot;a cake&quot;])</span></span>
<span class="line"><span>                 #foreach           ($a in $foo )$a</span></span>
<span class="line"><span>         #end please.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><ul><li><a href="https://github.com/apache/velocity-engine/" target="_blank" rel="noopener noreferrer">Velocity Github</a></li><li><a href="https://velocity.apache.org/" target="_blank" rel="noopener noreferrer">Velocity 官网</a></li><li><a href="https://wizardforcel.gitbooks.io/velocity-doc/content/" target="_blank" rel="noopener noreferrer">Velocity 中文文档</a></li><li><a href="https://github.com/alibaba/velocity-spring-boot-project" target="_blank" rel="noopener noreferrer">velocity-spring-boot-project</a></li></ul>`,76)])])}const c=i(l,[["render",t]]),h=JSON.parse('{"path":"/pages/8861f959/","title":"Velocity 快速入门","lang":"zh-CN","frontmatter":{"title":"Velocity 快速入门","date":"2022-02-17T22:34:30.000Z","order":3,"categories":["Java","工具","模板引擎"],"tags":["Java","模板引擎","Velocity"],"permalink":"/pages/8861f959/","description":"Velocity 快速入门 Velocity （简称 VTL）是一个基于 Java 的模版引擎。它允许 web 页面设计者引用 JAVA 代码预定义的方法。Web 设计者可以根据 MVC 模式和 JAVA 程序员并行工作，这意味着 Web 设计者可以单独专注于设计良好的站点，而程序员则可单独专注于编写底层代码。Velocity 将 Java 代码从 w...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Velocity 快速入门\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-02-17T22:34:30.000Z\\",\\"dateModified\\":\\"2025-09-23T15:53:48.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"钝悟\\",\\"url\\":\\"https://dunwu.github.io/waterdrop\\"}]}"],["meta",{"property":"og:url","content":"https://dunwu.github.io/waterdrop/waterdrop/pages/8861f959/"}],["meta",{"property":"og:site_name","content":"钝悟"}],["meta",{"property":"og:title","content":"Velocity 快速入门"}],["meta",{"property":"og:description","content":"Velocity 快速入门 Velocity （简称 VTL）是一个基于 Java 的模版引擎。它允许 web 页面设计者引用 JAVA 代码预定义的方法。Web 设计者可以根据 MVC 模式和 JAVA 程序员并行工作，这意味着 Web 设计者可以单独专注于设计良好的站点，而程序员则可单独专注于编写底层代码。Velocity 将 Java 代码从 w..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-23T15:53:48.000Z"}],["meta",{"property":"article:tag","content":"Velocity"}],["meta",{"property":"article:tag","content":"模板引擎"}],["meta",{"property":"article:tag","content":"Java"}],["meta",{"property":"article:published_time","content":"2022-02-17T22:34:30.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-23T15:53:48.000Z"}]]},"git":{"createdTime":1651071272000,"updatedTime":1758642828000,"contributors":[{"name":"dunwu","username":"dunwu","email":"forbreak@163.com","commits":10,"url":"https://github.com/dunwu"}]},"readingTime":{"minutes":4.14,"words":1243},"filePathRelative":"01.Java/工具/模板引擎/Velocity.md","excerpt":"\\n<p><strong>Velocity （简称 VTL）是一个基于 Java 的模版引擎</strong>。它允许 web 页面设计者引用 JAVA 代码预定义的方法。Web 设计者可以根据 MVC 模式和 JAVA 程序员并行工作，这意味着 Web 设计者可以单独专注于设计良好的站点，而程序员则可单独专注于编写底层代码。Velocity 将 Java 代码从 web 页面中分离出来，使站点在长时间运行后仍然具有很好的可维护性，并提供了一个除 JSP 和 PHP 之外的可行的被选方案。</p>\\n<h2>注释</h2>\\n<p>单行注释以##开始，并在本行结束。</p>\\n<div class=\\"language-velocity line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"velocity\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-velocity\\"><span class=\\"line\\"><span>## This is a single line comment.</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{c as comp,h as data};
