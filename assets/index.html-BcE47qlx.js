import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,b as t,f as a,a as i,e as o,o as l}from"./app-BovpQKqx.js";const r={};function d(g,e){return l(),s("div",null,[e[0]||(e[0]=t("h1",{id:"mongodb-简介",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#mongodb-简介"},[t("span",null,"MongoDB 简介")])],-1)),e[1]||(e[1]=t("div",{class:"hint-container info"},[t("p",{class:"hint-container-title"},"概述"),t("p",null,[t("strong",null,"MongoDB 是一个流行的、开源的文档数据库"),o("。")]),t("p",null,"本文简单介绍了 MongoDB 的功能、特性、发行版本、简史、概念，可以让读者在短时间内对于 MongoDB 有一个初步的认识。")],-1)),a(" more "),e[2]||(e[2]=i(`<h2 id="什么是-mongodb" tabindex="-1"><a class="header-anchor" href="#什么是-mongodb"><span>什么是 MongoDB</span></a></h2><p>MongoDB 是一个<strong>面向文档</strong>的开源 NoSQL 数据库系统，由 <strong>C++</strong> 编写的。MongoDB 支持“<strong>无模式</strong>”的数据建模，可以存储比较复杂的数据类型，是一款非常流行的 <strong>文档类型数据库</strong> 。</p><p>在高负载的情况下，MongoDB 天然支持水平扩展和高可用，可以很方便地添加更多的节点/实例，以保证服务性能和可用性。在许多场景下，MongoDB 可以用于代替传统的关系型数据库或键/值存储方式，皆在为 Web 应用提供可扩展的高可用高性能数据存储解决方案。</p><p>MongoDB 提供了丰富的功能：</p><ul><li><a href="https://www.mongodb.com/zh-cn/docs/manual/crud/#std-label-crud" target="_blank" rel="noopener noreferrer"><strong>读写操作 (CRUD)</strong></a></li><li><a href="https://www.mongodb.com/zh-cn/docs/manual/core/aggregation-pipeline/#std-label-aggregation-pipeline" target="_blank" rel="noopener noreferrer"><strong>数据聚合</strong></a></li><li><a href="https://www.mongodb.com/zh-cn/docs/manual/text-search/#std-label-text-search" target="_blank" rel="noopener noreferrer"><strong>文本搜索</strong></a></li><li><a href="https://www.mongodb.com/zh-cn/docs/manual/tutorial/geospatial-tutorial/" target="_blank" rel="noopener noreferrer"><strong>地理空间搜索</strong></a></li><li>...</li></ul><h2 id="mongodb-特性" tabindex="-1"><a class="header-anchor" href="#mongodb-特性"><span>MongoDB 特性</span></a></h2><p>MongoDB 主要有以下特性：</p><ul><li><strong>面向文档</strong> - MongoDB 将数据记录存储为 <a href="https://www.mongodb.com/zh-cn/docs/manual/core/document/#std-label-bson-document-format" target="_blank" rel="noopener noreferrer">BSON 文档</a>。BSON 是 <a href="https://www.mongodb.com/zh-cn/docs/manual/reference/glossary/#std-term-JSON" target="_blank" rel="noopener noreferrer">JSON</a> 文档的二进制表示形式，尽管它包含的数据类型比 JSON 多。最大 BSON 文档大小为 16 MB。</li><li><strong>无模式</strong> - MongoDB 中没有预定义模式（predefined schema），文档键值的类型和大小不是固定的。由于没有固定的模式，因此按需添加或删除字段变得更容易。</li><li><strong>丰富的查询方式</strong> - MongoDB 支持基本的 CRUD 以及数据聚合、文本搜索和地理空间查询。</li><li><strong>丰富的索引类型</strong> - MongoDB 支持多种类型的索引，包括单字段索引、复合索引、多键索引、哈希索引、文本索引、 地理位置索引等，每种类型的索引有不同的使用场合。</li><li><strong>支持 ACID 事务</strong> - NoSQL 通常不支持事务，但 MongoDB 支持事务，且 MongoDB 支持 ACID。 <ul><li>MongoDB 单文档支持原子性，也具备事务的特性。</li><li>MongoDB 4.0 加入了对多文档事务的支持，但只支持复制集部署模式下的事务，也就是说事务的作用域限制为一个副本集内。</li><li>MongoDB 4.2 引入了分布式事务，增加了对分片集群上多文档事务的支持，并合并了对副本集上多文档事务的现有支持。</li></ul></li><li><strong>支持压缩</strong>：存储同样的数据所需的资源更少。</li><li><strong>支持 map-reduce</strong> - 通过分治的方式完成复杂的聚合任务。不过，从 MongoDB 5.0 开始，map-reduce 已经不被官方推荐使用了，替代方案是 <a href="https://www.mongodb.com/docs/manual/core/aggregation-pipeline/" target="_blank" rel="noopener noreferrer">聚合管道</a>。聚合管道提供比 map-reduce 更好的性能和可用性。</li><li><strong>支持存储大文件</strong>：MongoDB 的单文档存储空间要求不超过 16MB。对于超过 16MB 的大文件，MongoDB 提供了 GridFS 来进行存储，通过 GridFS，可以将大型数据进行分块处理，然后将这些切分后的小文档保存在数据库中。</li></ul><p>MongoDB 作为分布式存储，自然也具备了分布式的一般特性：</p><ul><li><strong>高可用</strong> - 通过<strong>复制</strong>机制实现<strong>高可用</strong>，提供<strong>数据冗余</strong>和<strong>自动故障转移</strong>能力。在 MongoDB 中，这种机制称为 <a href="https://www.mongodb.com/zh-cn/docs/manual/replication/" target="_blank" rel="noopener noreferrer"><strong>副本集</strong></a>。<a href="https://www.mongodb.com/zh-cn/docs/manual/replication/" target="_blank" rel="noopener noreferrer"><strong>副本集</strong></a> 是一组 MongoDB 服务器，它们维护相同的数据集，并可提供冗余和提高数据可用性。</li><li><strong>高性能</strong> - 通过<strong>分片</strong>机制提供<strong>水平扩容</strong>能力，以支撑海量数据，海量并发。从 3.4 开始，MongoDB 支持基于 <a href="https://www.mongodb.com/zh-cn/docs/manual/core/zone-sharding/#std-label-zone-sharding" target="_blank" rel="noopener noreferrer"><strong>分片键</strong></a> 创建数据的 <a href="https://www.mongodb.com/zh-cn/docs/manual/reference/glossary/#std-term-shard-key" target="_blank" rel="noopener noreferrer"><strong>区域</strong></a>。在均衡的集群中，MongoDB 仅将区域覆盖的读写定向到区域内的那些分片。</li></ul><h2 id="mongodb-发行版本" tabindex="-1"><a class="header-anchor" href="#mongodb-发行版本"><span>MongoDB 发行版本</span></a></h2><p>MongoDB 有以下发行版本：</p><ul><li><a href="https://www.mongodb.com/zh-cn/docs/atlas?tck=docs_server" target="_blank" rel="noopener noreferrer">MongoDB Atlas</a> - 用于云端 MongoDB 部署的完全托管服务</li><li><a href="https://www.mongodb.com/zh-cn/docs/manual/administration/install-enterprise/#std-label-install-mdb-enterprise" target="_blank" rel="noopener noreferrer">MongoDB Enterprise</a> - 基于订阅、自行管理的 MongoDB 版本</li><li><a href="https://www.mongodb.com/zh-cn/docs/manual/administration/install-community/#std-label-install-mdb-community-edition" target="_blank" rel="noopener noreferrer">MongoDB Community</a> - source-available、可免费使用以及自行管理的 MongoDB 版本</li></ul><h2 id="mongodb-简史" tabindex="-1"><a class="header-anchor" href="#mongodb-简史"><span>MongoDB 简史</span></a></h2><p>MongoDB 是由 <strong>10gen</strong> 开发的 NoSQL 数据库，该公司由 Dwight Merriman 和 Eliot Horowitz 于 2007 年创立。2013 年，<strong>10gen 更名为 MongoDB Inc</strong>.。以更好地反映其对 MongoDB 数据库开发的关注。2017 年，MongoDB 公司上市。</p><p>里程碑版本：</p><ul><li><strong>1.0</strong> - 2009 年，MongoDB 发布第一版。</li><li><strong>1.6</strong> - 2010 年，引入分片机制（Sharding），支持水平扩展。</li><li><strong>2.2</strong> - 2012 年，引入了聚合管道（Pipeline）。</li><li><strong>2.4</strong> - 2013 年，引入了全文搜索。</li><li><strong>3.0</strong> - 2015 年，全面支持 <strong>WiredTiger</strong> 存储引擎，并支持可插拔存储引擎。</li><li><strong>4.0</strong> - 2019 年，支持 ACID 事务。</li><li><strong>4.2</strong> - 2020 年，支持分布式事务。</li></ul><blockquote><p>扩展阅读：</p><ul><li><a href="https://www.infoq.cn/article/3d4suwkc2fvikykemnvw" target="_blank" rel="noopener noreferrer">MongoDB 简史</a></li><li><a href="https://blog.csdn.net/JiekeXu/article/details/143670868" target="_blank" rel="noopener noreferrer">MongoDB 发展历史及各主要版本新特性概述</a></li></ul></blockquote><h2 id="mongodb-概念" tabindex="-1"><a class="header-anchor" href="#mongodb-概念"><span>MongoDB 概念</span></a></h2><p>MongoDB 将数据记录存储为 <a href="https://www.mongodb.com/zh-cn/docs/manual/core/document/#std-label-bson-document-format" target="_blank" rel="noopener noreferrer">BSON 文档</a>。BSON 是 <a href="https://www.mongodb.com/zh-cn/docs/manual/reference/glossary/#std-term-JSON" target="_blank" rel="noopener noreferrer">JSON</a> 文档的二进制表示形式，尽管它包含的数据类型比 JSON 多。最大 BSON 文档大小为 16 MB。</p><p>每个 MongoDB 文档都需要一个唯一的 <a href="https://www.mongodb.com/zh-cn/docs/manual/reference/glossary/#std-term-_id" target="_blank" rel="noopener noreferrer"><code>_id</code></a> 字段作为 <a href="https://www.mongodb.com/zh-cn/docs/manual/reference/glossary/#std-term-primary-key" target="_blank" rel="noopener noreferrer">主键</a>。如果插入的文档省略了 <code>_id</code> 字段，则 MongoDB 驱动程序会自动为 <code>_id</code> 字段生成 <a href="https://www.mongodb.com/zh-cn/docs/manual/reference/bson-types/#std-label-objectid" target="_blank" rel="noopener noreferrer">ObjectId</a>。</p><p>这些 <a href="https://www.mongodb.com/zh-cn/docs/manual/reference/glossary/#std-term-document" target="_blank" rel="noopener noreferrer">MongoDB 文档</a> 收集在 <a href="https://www.mongodb.com/zh-cn/docs/manual/reference/glossary/#std-term-collection" target="_blank" rel="noopener noreferrer">集合</a> 中。<a href="https://www.mongodb.com/zh-cn/docs/manual/reference/glossary/#std-term-database" target="_blank" rel="noopener noreferrer">数据库</a> 存储一个或多个文档集合。</p><p>为了方便理解 MongoDB 概念，下面将 MongoDB 概念和 RDBM 概念进行对比：</p><table><thead><tr><th style="text-align:left;">RDBM 概念</th><th style="text-align:left;">MongoDB 概念</th></tr></thead><tbody><tr><td style="text-align:left;">database（数据库）</td><td style="text-align:left;">database（数据库）</td></tr><tr><td style="text-align:left;">table（表）</td><td style="text-align:left;">collection（集合）</td></tr><tr><td style="text-align:left;">row（行）</td><td style="text-align:left;">document（文档）</td></tr><tr><td style="text-align:left;">column（列）</td><td style="text-align:left;">field（字段）</td></tr><tr><td style="text-align:left;">index（索引）</td><td style="text-align:left;">index（索引）</td></tr><tr><td style="text-align:left;">primary key</td><td style="text-align:left;"><a href="https://www.mongodb.com/zh-cn/docs/manual/reference/glossary/#std-term-_id" target="_blank" rel="noopener noreferrer"><code>_id</code></a></td></tr></tbody></table><h3 id="文档" tabindex="-1"><a class="header-anchor" href="#文档"><span>文档</span></a></h3><p>文档是 MongoDB 中的<strong>基本数据单元</strong>。<strong>文档是一组有序键值对（即 BSON）</strong>。MongoDB 的文档不需要设置相同的字段，并且相同的字段不需要相同的数据类型，这与关系型数据库有很大的区别，也是 MongoDB 非常突出的特点。</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202503041024526.png" alt="MongoDB Document" tabindex="0" loading="lazy"><figcaption>MongoDB Document</figcaption></figure><p>需要注意的是：</p><ul><li><p><strong>文档中的键/值对是有序的</strong>。</p></li><li><p>文档的键是字符串。除了少数例外情况，<strong>键可以使用任意 UTF-8 字符</strong>。</p></li><li><p>文档中的值不仅可以是在双引号里面的字符串，还可以是其他几种数据类型（甚至可以是整个嵌入的文档）。</p></li><li><p><strong>MongoDB 区分类型和大小写</strong>。例如，下面这两对文档是不同的：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;count&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;count&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;5&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;count&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;Count&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>MongoDB 的文档不能有重复的键。例如，下面这个文档是不合法的</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;greeting&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hello, world!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;greeting&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hello, MongoDB!&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p>文档键命名规范：</p><ul><li>键不能含有 <code>\\0</code> （空字符）。这个字符用来表示键的结尾。</li><li><code>.</code> 和 <code>$</code> 有特别的意义，只有在特定环境下才能使用。</li><li>以下划线 <code>_</code> 开头的键是保留的（不是严格要求的）。</li></ul><h3 id="集合" tabindex="-1"><a class="header-anchor" href="#集合"><span>集合</span></a></h3><p>集合就是 MongoDB 文档组，类似于 RDBMS （关系数据库管理系统：Relational Database Management System) 中的表（Table）。集合存在于数据库中，集合没有固定的结构，这意味着你在对集合可以插入不同格式和类型的数据，但通常情况下我们插入集合的数据都会有一定的关联性。</p><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/202503041024137.png" alt="MongoDB Collection" tabindex="0" loading="lazy"><figcaption>MongoDB Collection</figcaption></figure><p>集合不需要事先创建，当第一个文档插入或者第一个索引创建时，如果该集合不存在，则会创建一个新的集合。使用 <code>.</code> 字符分隔不同命名空间的子集合是一种组织集合的惯例。例如，有一个具有博客功能的应用程序，可能包含名为 <code>blog.posts</code> 和名为 <code>blog.authors</code> 的集合。</p><p>合法的集合名：</p><ul><li>集合名称不能是空字符串（&quot;&quot;）。</li><li>集合名称不能含有 <code>\\0</code>（空字符），因为这个字符用于表示一个集合名称的结束。</li><li>集合名称不能以 <code>system.</code> 开头，该前缀是为内部集合保留的。例如，<code>system.users</code> 集合中保存着数据库的用户，<code>system.namespaces</code> 集合中保存着有关数据库所有集合的信息。</li><li>用户创建的集合名称中不应包含保留字符 <code>$</code>。许多驱动程序确实支持在集合名称中使用 <code>$</code>，这是因为某些由系统生成的集合会包含它，但除非你要访问的是这些集合之一，否则不应在名称中使用 <code>$</code> 字符。</li></ul><h3 id="数据库" tabindex="-1"><a class="header-anchor" href="#数据库"><span>数据库</span></a></h3><p>数据库用于存储所有集合，而集合又用于存储所有文档。一个 MongoDB 中可以创建多个数据库，每一个数据库都有自己的集合和权限。MongoDB 的单个实例可以容纳多个独立的数据库，每一个都有自己的集合和权限，不同的数据库也放置在不同的文件中。</p><p>MongoDB 的默认数据库为&quot;db&quot;，该数据库存储在 data 目录中。</p><p><strong>&quot;show dbs&quot;</strong> 命令可以显示所有数据的列表。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./mongo</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">MongoDBshell</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> version:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3.0.6</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">connecting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; show dbs</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">078GB</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">test</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   0.078GB</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行 <strong>&quot;db&quot;</strong> 命令可以显示当前数据库对象或集合。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./mongo</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">MongoDBshell</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> version:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3.0.6</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">connecting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; db</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">test</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行&quot;use&quot;命令，可以连接到一个指定的数据库。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; use </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">switched</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> db</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> local</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; db</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>数据库按照名称进行标识的。数据库名称可以是任意 UTF-8 字符串，但有以下限制：</p><ul><li>数据库名称不能是空字符串（&quot;&quot;）。</li><li>数据库名称不能包含 <code>/</code>、<code>\\</code>、<code>.</code>、<code>&quot;</code>、<code>*</code>、<code>&lt;</code>、<code>&gt;</code>、<code>:</code>、<code>|</code>、<code>?</code>、<code>$</code>、单一的空格以及 <code>\\0</code>（空字符），基本上只能使用 ASCII 字母和数字。</li><li>数据库名称区分大小写。</li><li>数据库名称的长度限制为 64 字节。</li></ul><p>有一些数据库名是保留的，可以直接访问这些有特殊作用的数据库。</p><ul><li><strong>admin</strong>：admin 数据库会在身份验证和授权时被使用。此外，某些管理操作需要访问此数据库。</li><li><strong>local</strong>：这个数据永远不会被复制，可以用来存储限于本地单台服务器的任意集合</li><li><strong>config</strong>：当 Mongo 用于分片设置时，config 数据库在内部使用，用于保存分片的相关信息。</li></ul><h3 id="元数据" tabindex="-1"><a class="header-anchor" href="#元数据"><span>元数据</span></a></h3><p>数据库的信息是存储在集合中。它们使用了系统的命名空间：<code>dbname.system.*</code></p><p>在 MongoDB 数据库中命名空间 <code>&lt;dbname&gt;.system.*</code> 是包含多种系统信息的特殊集合 (Collection)，如下：</p><table><thead><tr><th style="text-align:left;">集合命名空间</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><code>dbname.system.namespaces</code></td><td style="text-align:left;">列出所有命名空间。</td></tr><tr><td style="text-align:left;"><code>dbname.system.indexes</code></td><td style="text-align:left;">列出所有索引。</td></tr><tr><td style="text-align:left;"><code>dbname.system.profile</code></td><td style="text-align:left;">包含数据库概要 (profile) 信息。</td></tr><tr><td style="text-align:left;"><code>dbname.system.users</code></td><td style="text-align:left;">列出所有可访问数据库的用户。</td></tr><tr><td style="text-align:left;"><code>dbname.local.sources</code></td><td style="text-align:left;">包含复制对端（slave）的服务器信息和状态。</td></tr></tbody></table><p>对于修改系统集合中的对象有如下限制。</p><p>在 <code>system.indexes</code> 插入数据，可以创建索引。但除此之外该表信息是不可变的（特殊的 drop index 命令将自动更新相关信息）。<code>system.users</code> 是可修改的。<code>system.profile</code> 是可删除的。</p><h2 id="bson-数据类型" tabindex="-1"><a class="header-anchor" href="#bson-数据类型"><span>BSON 数据类型</span></a></h2><p>MongoDB 文档由键值对组成。字段名称是字符串；字段的值可以是任何 <a href="https://www.mongodb.com/zh-cn/docs/manual/reference/bson-types/#std-label-bson-types" target="_blank" rel="noopener noreferrer">BSON 数据类型</a>，包括其他文档、数组和文档数组。</p><table><thead><tr><th style="text-align:left;">数据类型</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">String</td><td style="text-align:left;">字符串。存储数据常用的数据类型。在 MongoDB 中，UTF-8 编码的字符串才是合法的。</td></tr><tr><td style="text-align:left;">Integer</td><td style="text-align:left;">整型数值。用于存储数值。根据你所采用的服务器，可分为 32 位或 64 位。</td></tr><tr><td style="text-align:left;">Boolean</td><td style="text-align:left;">布尔值。用于存储布尔值（真/假）。</td></tr><tr><td style="text-align:left;">Double</td><td style="text-align:left;">双精度浮点值。用于存储浮点值。</td></tr><tr><td style="text-align:left;">Min/Max keys</td><td style="text-align:left;">将一个值与 BSON（二进制的 JSON）元素的最低值和最高值相对比。</td></tr><tr><td style="text-align:left;">Array</td><td style="text-align:left;">用于将数组或列表或多个值存储为一个键。</td></tr><tr><td style="text-align:left;">Timestamp</td><td style="text-align:left;">时间戳。记录文档修改或添加的具体时间。</td></tr><tr><td style="text-align:left;">Object</td><td style="text-align:left;">用于内嵌文档。</td></tr><tr><td style="text-align:left;">Null</td><td style="text-align:left;">用于创建空值。</td></tr><tr><td style="text-align:left;">Symbol</td><td style="text-align:left;">符号。该数据类型基本上等同于字符串类型，但不同的是，它一般用于采用特殊符号类型的语言。</td></tr><tr><td style="text-align:left;">Date</td><td style="text-align:left;">日期时间。用 UNIX 时间格式来存储当前日期或时间。你可以指定自己的日期时间：创建 Date 对象，传入年月日信息。</td></tr><tr><td style="text-align:left;">Object ID</td><td style="text-align:left;">对象 ID。用于创建文档的 ID。</td></tr><tr><td style="text-align:left;">Binary Data</td><td style="text-align:left;">二进制数据。用于存储二进制数据。</td></tr><tr><td style="text-align:left;">Code</td><td style="text-align:left;">代码类型。用于在文档中存储 JavaScript 代码。</td></tr><tr><td style="text-align:left;">Regular expression</td><td style="text-align:left;">正则表达式类型。用于存储正则表达式。</td></tr></tbody></table><h2 id="mongodb-vs-rdbm" tabindex="-1"><a class="header-anchor" href="#mongodb-vs-rdbm"><span>MongoDB vs.RDBM</span></a></h2><table><thead><tr><th>特性</th><th>MongoDB</th><th>RDBMS</th></tr></thead><tbody><tr><td>数据模型</td><td>文档模型</td><td>关系型</td></tr><tr><td>CRUD 操作</td><td>MQL/SQL</td><td>SQL</td></tr><tr><td>高可用</td><td>复制集</td><td>集群模式</td></tr><tr><td>扩展性</td><td>支持分片</td><td>数据分区</td></tr><tr><td>扩繁方式</td><td>垂直扩展+水平扩展</td><td>垂直扩展</td></tr><tr><td>索引类型</td><td>B 树、全文索引、地理位置索引、多键索引、TTL 索引</td><td>B 树</td></tr><tr><td>数据容量</td><td>没有理论上限</td><td>千万、亿</td></tr></tbody></table><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><ul><li><a href="https://www.mongodb.com/zh-cn/docs/manual/introduction/" target="_blank" rel="noopener noreferrer">MongoDB 官方文档之 MongoDB 简介</a></li><li><a href="https://www.infoq.cn/article/3d4suwkc2fvikykemnvw" target="_blank" rel="noopener noreferrer">MongoDB 简史</a></li><li><a href="https://blog.csdn.net/JiekeXu/article/details/143670868" target="_blank" rel="noopener noreferrer">MongoDB 发展历史及各主要版本新特性概述</a></li></ul>`,63))])}const c=n(r,[["render",d]]),m=JSON.parse('{"path":"/pages/c7910270/","title":"MongoDB 简介","lang":"zh-CN","frontmatter":{"icon":"logos:mongodb","title":"MongoDB 简介","cover":"https://raw.githubusercontent.com/dunwu/images/master/snap/202503062317588.webp","date":"2020-09-07T07:54:19.000Z","categories":["数据库","文档数据库","MongoDB"],"tags":["数据库","文档数据库","MongoDB","bson"],"permalink":"/pages/c7910270/","description":"概述 MongoDB 是一个流行的、开源的文档数据库。 本文简单介绍了 MongoDB 的功能、特性、发行版本、简史、概念，可以让读者在短时间内对于 MongoDB 有一个初步的认识。","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MongoDB 简介\\",\\"image\\":[\\"https://raw.githubusercontent.com/dunwu/images/master/snap/202503041024526.png\\",\\"https://raw.githubusercontent.com/dunwu/images/master/snap/202503041024137.png\\"],\\"datePublished\\":\\"2020-09-07T07:54:19.000Z\\",\\"dateModified\\":\\"2025-09-23T15:53:48.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"钝悟\\",\\"url\\":\\"https://dunwu.github.io/waterdrop\\"}]}"],["meta",{"property":"og:url","content":"https://dunwu.github.io/waterdrop/waterdrop/pages/c7910270/"}],["meta",{"property":"og:site_name","content":"钝悟"}],["meta",{"property":"og:title","content":"MongoDB 简介"}],["meta",{"property":"og:description","content":"概述 MongoDB 是一个流行的、开源的文档数据库。 本文简单介绍了 MongoDB 的功能、特性、发行版本、简史、概念，可以让读者在短时间内对于 MongoDB 有一个初步的认识。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/dunwu/images/master/snap/202503062317588.webp"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-23T15:53:48.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://raw.githubusercontent.com/dunwu/images/master/snap/202503062317588.webp"}],["meta",{"name":"twitter:image:alt","content":"MongoDB 简介"}],["meta",{"property":"article:tag","content":"bson"}],["meta",{"property":"article:tag","content":"MongoDB"}],["meta",{"property":"article:tag","content":"文档数据库"}],["meta",{"property":"article:tag","content":"数据库"}],["meta",{"property":"article:published_time","content":"2020-09-07T07:54:19.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-23T15:53:48.000Z"}]]},"git":{"createdTime":1651071272000,"updatedTime":1758642828000,"contributors":[{"name":"dunwu","username":"dunwu","email":"forbreak@163.com","commits":16,"url":"https://github.com/dunwu"}]},"readingTime":{"minutes":11.29,"words":3386},"filePathRelative":"12.数据库/文档数据库/MongoDB/MongoDB_简介.md","excerpt":"\\n<div class=\\"hint-container info\\">\\n<p class=\\"hint-container-title\\">概述</p>\\n<p><strong>MongoDB 是一个流行的、开源的文档数据库</strong>。</p>\\n<p>本文简单介绍了 MongoDB 的功能、特性、发行版本、简史、概念，可以让读者在短时间内对于 MongoDB 有一个初步的认识。</p>\\n</div>\\n","autoDesc":true}');export{c as comp,m as data};
