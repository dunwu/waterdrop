const e=JSON.parse('{"key":"v-cb4dfe00","path":"/pages/d606c534/","title":"Dockerfile 最佳实践","lang":"zh-CN","frontmatter":{"icon":"devicon:docker-wordmark","title":"Dockerfile 最佳实践","date":"2018-03-30T16:41:00.000Z","order":2,"permalink":"/pages/d606c534/","category":["DevOps","工具","Docker"],"tag":["DevOps","Docker"],"description":"Dockerfile 最佳实践 一、Dockerfile 简介 Docker 镜像的定制实际上就是定制每一层所添加的配置、文件。如果我们可以把每一层修改、安装、构建、操作的命令都写入一个脚本，用这个脚本来构建、定制镜像，那么之前提及的无法重复的问题、镜像构建透明性的问题、体积的问题就都会解决。这个脚本就是 Dockerfile。 Dockerfile 是一个文本文件，其内包含了一条条的 指令(Instruction)，每一条指令构建一层，因此每一条指令的内容，就是描述该层应当如何构建。 使用 Dockerfile 构建镜像","head":[["meta",{"property":"og:url","content":"https://dunwu.github.io/waterdrop/waterdrop/pages/d606c534/"}],["meta",{"property":"og:site_name","content":"钝悟"}],["meta",{"property":"og:title","content":"Dockerfile 最佳实践"}],["meta",{"property":"og:description","content":"Dockerfile 最佳实践 一、Dockerfile 简介 Docker 镜像的定制实际上就是定制每一层所添加的配置、文件。如果我们可以把每一层修改、安装、构建、操作的命令都写入一个脚本，用这个脚本来构建、定制镜像，那么之前提及的无法重复的问题、镜像构建透明性的问题、体积的问题就都会解决。这个脚本就是 Dockerfile。 Dockerfile 是一个文本文件，其内包含了一条条的 指令(Instruction)，每一条指令构建一层，因此每一条指令的内容，就是描述该层应当如何构建。 使用 Dockerfile 构建镜像"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-24T23:52:19.000Z"}],["meta",{"property":"article:author","content":"钝悟"}],["meta",{"property":"article:tag","content":"DevOps"}],["meta",{"property":"article:tag","content":"Docker"}],["meta",{"property":"article:published_time","content":"2018-03-30T16:41:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-24T23:52:19.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Dockerfile 最佳实践\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2018-03-30T16:41:00.000Z\\",\\"dateModified\\":\\"2025-09-24T23:52:19.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"钝悟\\",\\"url\\":\\"https://dunwu.github.io/waterdrop\\"}]}"]]},"headers":[{"level":2,"title":"一、Dockerfile 简介","slug":"一、dockerfile-简介","link":"#一、dockerfile-简介","children":[{"level":3,"title":"使用 Dockerfile 构建镜像","slug":"使用-dockerfile-构建镜像","link":"#使用-dockerfile-构建镜像","children":[]}]},{"level":2,"title":"二、Dockerfile 指令详解","slug":"二、dockerfile-指令详解","link":"#二、dockerfile-指令详解","children":[{"level":3,"title":"FROM(指定基础镜像)","slug":"from-指定基础镜像","link":"#from-指定基础镜像","children":[]},{"level":3,"title":"RUN(执行命令)","slug":"run-执行命令","link":"#run-执行命令","children":[]},{"level":3,"title":"COPY(复制文件)","slug":"copy-复制文件","link":"#copy-复制文件","children":[]},{"level":3,"title":"ADD(更高级的复制文件)","slug":"add-更高级的复制文件","link":"#add-更高级的复制文件","children":[]},{"level":3,"title":"CMD(容器启动命令)","slug":"cmd-容器启动命令","link":"#cmd-容器启动命令","children":[]},{"level":3,"title":"ENTRYPOINT(入口点)","slug":"entrypoint-入口点","link":"#entrypoint-入口点","children":[]},{"level":3,"title":"ENV(设置环境变量)","slug":"env-设置环境变量","link":"#env-设置环境变量","children":[]},{"level":3,"title":"ARG(构建参数)","slug":"arg-构建参数","link":"#arg-构建参数","children":[]},{"level":3,"title":"VOLUME(定义匿名卷)","slug":"volume-定义匿名卷","link":"#volume-定义匿名卷","children":[]},{"level":3,"title":"EXPOSE(暴露端口)","slug":"expose-暴露端口","link":"#expose-暴露端口","children":[]},{"level":3,"title":"WORKDIR(指定工作目录)","slug":"workdir-指定工作目录","link":"#workdir-指定工作目录","children":[]},{"level":3,"title":"LABEL","slug":"label","link":"#label","children":[]},{"level":3,"title":"USER(指定当前用户)","slug":"user-指定当前用户","link":"#user-指定当前用户","children":[]},{"level":3,"title":"HEALTHCHECK(健康检查)","slug":"healthcheck-健康检查","link":"#healthcheck-健康检查","children":[]},{"level":3,"title":"ONBUILD(为他人作嫁衣裳)","slug":"onbuild-为他人作嫁衣裳","link":"#onbuild-为他人作嫁衣裳","children":[]}]},{"level":2,"title":"二、最佳实践","slug":"二、最佳实践","link":"#二、最佳实践","children":[]},{"level":2,"title":"参考资料","slug":"参考资料","link":"#参考资料","children":[]}],"git":{"createdTime":1758757939000,"updatedTime":1758757939000,"contributors":[{"name":"dunwu","email":"forbreak@163.com","commits":1}]},"readingTime":{"minutes":29.54,"words":8863},"filePathRelative":"04.DevOps/工具/Docker/Docker_Dockerfile.md","localizedDate":"2018年3月30日","excerpt":"<h1> Dockerfile 最佳实践</h1>\\n<h2> 一、Dockerfile 简介</h2>\\n<p>Docker 镜像的定制实际上就是定制每一层所添加的配置、文件。如果我们可以把每一层修改、安装、构建、操作的命令都写入一个脚本，用这个脚本来构建、定制镜像，那么之前提及的无法重复的问题、镜像构建透明性的问题、体积的问题就都会解决。这个脚本就是 Dockerfile。</p>\\n<p>Dockerfile 是一个文本文件，其内包含了一条条的 <strong>指令(Instruction)</strong>，每一条指令构建一层，因此每一条指令的内容，就是描述该层应当如何构建。</p>\\n<h3> 使用 Dockerfile 构建镜像</h3>","autoDesc":true}');export{e as data};
