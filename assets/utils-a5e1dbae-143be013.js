var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var k=Uint8Array,G=Uint16Array,xr=Int32Array,lr=new k([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),or=new k([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yr=new k([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ar=function(r,a){for(var e=new G(31),n=0;n<31;++n)e[n]=a+=1<<r[n-1];for(var f=new xr(e[30]),n=1;n<30;++n)for(var l=e[n];l<e[n+1];++l)f[l]=l-e[n]<<5|n;return{b:e,r:f}},Er=Ar(lr,2),mr=Er.b,sr=Er.r;mr[28]=258,sr[258]=28;var Ur=Ar(or,0),Pr=Ur.b,Tr=Ur.r,Cr=new G(32768);for(var y=0;y<32768;++y){var $=(y&43690)>>1|(y&21845)<<1;$=($&52428)>>2|($&13107)<<2,$=($&61680)>>4|($&3855)<<4,Cr[y]=(($&65280)>>8|($&255)<<8)>>1}var Q=function(r,a,e){for(var n=r.length,f=0,l=new G(a);f<n;++f)r[f]&&++l[r[f]-1];var o=new G(a);for(f=1;f<a;++f)o[f]=o[f-1]+l[f-1]<<1;var t;if(e){t=new G(1<<a);var w=15-a;for(f=0;f<n;++f)if(r[f])for(var u=f<<4|r[f],v=a-r[f],i=o[r[f]-1]++<<v,M=i|(1<<v)-1;i<=M;++i)t[Cr[i]>>w]=u}else for(t=new G(n),f=0;f<n;++f)r[f]&&(t[f]=Cr[o[r[f]-1]++]>>15-r[f]);return t},_=new k(288);for(var y=0;y<144;++y)_[y]=8;for(var y=144;y<256;++y)_[y]=9;for(var y=256;y<280;++y)_[y]=7;for(var y=280;y<288;++y)_[y]=8;var vr=new k(32);for(var y=0;y<32;++y)vr[y]=5;var Rr=Q(_,9,0),Wr=Q(_,9,1),jr=Q(vr,5,0),Hr=Q(vr,5,1),cr=function(r){for(var a=r[0],e=1;e<r.length;++e)r[e]>a&&(a=r[e]);return a},J=function(r,a,e){var n=a/8|0;return(r[n]|r[n+1]<<8)>>(a&7)&e},wr=function(r,a){var e=a/8|0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>(a&7)},Fr=function(r){return(r+7)/8|0},ir=function(r,a,e){(a==null||a<0)&&(a=0),(e==null||e>r.length)&&(e=r.length);var n=new k(e-a);return n.set(r.subarray(a,e)),n},Jr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],W=function(r,a,e){var n=new Error(a||Jr[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,W),!e)throw n;return n},Kr=function(r,a,e,n){var f=r.length,l=n?n.length:0;if(!f||a.f&&!a.l)return e||new k(0);var o=!e||a.i!=2,t=a.i;e||(e=new k(f*3));var w=function(rr){var ar=e.length;if(rr>ar){var er=new k(Math.max(ar*2,rr));er.set(e),e=er}},u=a.f||0,v=a.p||0,i=a.b||0,M=a.l,b=a.d,z=a.m,C=a.n,P=f*8;do{if(!M){u=J(r,v,1);var j=J(r,v+1,3);if(v+=3,j)if(j==1)M=Wr,b=Hr,z=9,C=5;else if(j==2){var E=J(r,v,31)+257,q=J(r,v+10,15)+4,A=E+J(r,v+5,31)+1;v+=14;for(var c=new k(A),h=new k(19),g=0;g<q;++g)h[yr[g]]=J(r,v+g*3,7);v+=q*3;for(var V=cr(h),O=(1<<V)-1,Z=Q(h,V,1),g=0;g<A;){var B=Z[J(r,v,O)];v+=B&15;var x=B>>4;if(x<16)c[g++]=x;else{var S=0,I=0;for(x==16?(I=3+J(r,v,3),v+=2,S=c[g-1]):x==17?(I=3+J(r,v,7),v+=3):x==18&&(I=11+J(r,v,127),v+=7);I--;)c[g++]=S}}var F=c.subarray(0,E),s=c.subarray(E);z=cr(F),C=cr(s),M=Q(F,z,1),b=Q(s,C,1)}else W(1);else{var x=Fr(v)+4,H=r[x-4]|r[x-3]<<8,U=x+H;if(U>f){t&&W(0);break}o&&w(i+H),e.set(r.subarray(x,U),i),a.b=i+=H,a.p=v=U*8,a.f=u;continue}if(v>P){t&&W(0);break}}o&&w(i+131072);for(var K=(1<<z)-1,d=(1<<C)-1,D=v;;D=v){var S=M[wr(r,v)&K],R=S>>4;if(v+=S&15,v>P){t&&W(0);break}if(S||W(2),R<256)e[i++]=R;else if(R==256){D=v,M=null;break}else{var X=R-254;if(R>264){var g=R-257,m=lr[g];X=J(r,v,(1<<m)-1)+mr[g],v+=m}var T=b[wr(r,v)&d],N=T>>4;T||W(3),v+=T&15;var s=Pr[N];if(N>3){var m=or[N];s+=wr(r,v)&(1<<m)-1,v+=m}if(v>P){t&&W(0);break}o&&w(i+131072);var L=i+X;if(i<s){var p=l-s,tr=Math.min(s,L);for(p+i<0&&W(3);i<tr;++i)e[i]=n[p+i]}for(;i<L;i+=4)e[i]=e[i-s],e[i+1]=e[i+1-s],e[i+2]=e[i+2-s],e[i+3]=e[i+3-s];i=L}}a.l=M,a.p=D,a.b=i,a.f=u,M&&(u=1,a.m=z,a.d=b,a.n=C)}while(!u);return i==e.length?e:ir(e,0,i)},Y=function(r,a,e){e<<=a&7;var n=a/8|0;r[n]|=e,r[n+1]|=e>>8},nr=function(r,a,e){e<<=a&7;var n=a/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},gr=function(r,a){for(var e=[],n=0;n<r.length;++n)r[n]&&e.push({s:n,f:r[n]});var f=e.length,l=e.slice();if(!f)return{t:Ir,l:0};if(f==1){var o=new k(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(E,q){return E.f-q.f}),e.push({s:-1,f:25001});var t=e[0],w=e[1],u=0,v=1,i=2;for(e[0]={s:-1,f:t.f+w.f,l:t,r:w};v!=f-1;)t=e[e[u].f<e[i].f?u++:i++],w=e[u!=v&&e[u].f<e[i].f?u++:i++],e[v++]={s:-1,f:t.f+w.f,l:t,r:w};for(var M=l[0].s,n=1;n<f;++n)l[n].s>M&&(M=l[n].s);var b=new G(M+1),z=Mr(e[v-1],b,0);if(z>a){var n=0,C=0,P=z-a,j=1<<P;for(l.sort(function(q,A){return b[A.s]-b[q.s]||q.f-A.f});n<f;++n){var x=l[n].s;if(b[x]>a)C+=j-(1<<z-b[x]),b[x]=a;else break}for(C>>=P;C>0;){var H=l[n].s;b[H]<a?C-=1<<a-b[H]++-1:++n}for(;n>=0&&C;--n){var U=l[n].s;b[U]==a&&(--b[U],++C)}z=a}return{t:new k(b),l:z}},Mr=function(r,a,e){return r.s==-1?Math.max(Mr(r.l,a,e+1),Mr(r.r,a,e+1)):a[r.s]=e},kr=function(r){for(var a=r.length;a&&!r[--a];);for(var e=new G(++a),n=0,f=r[0],l=1,o=function(w){e[n++]=w},t=1;t<=a;++t)if(r[t]==f&&t!=a)++l;else{if(!f&&l>2){for(;l>138;l-=138)o(32754);l>2&&(o(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(o(f),--l;l>6;l-=6)o(8304);l>2&&(o(l-3<<5|8208),l=0)}for(;l--;)o(f);l=1,f=r[t]}return{c:e.subarray(0,n),n:a}},fr=function(r,a){for(var e=0,n=0;n<a.length;++n)e+=r[n]*a[n];return e},Or=function(r,a,e){var n=e.length,f=Fr(a+2);r[f]=n&255,r[f+1]=n>>8,r[f+2]=r[f]^255,r[f+3]=r[f+1]^255;for(var l=0;l<n;++l)r[f+l+4]=e[l];return(f+4+n)*8},Sr=function(r,a,e,n,f,l,o,t,w,u,v){Y(a,v++,e),++f[256];for(var i=gr(f,15),M=i.t,b=i.l,z=gr(l,15),C=z.t,P=z.l,j=kr(M),x=j.c,H=j.n,U=kr(C),E=U.c,q=U.n,A=new G(19),c=0;c<x.length;++c)++A[x[c]&31];for(var c=0;c<E.length;++c)++A[E[c]&31];for(var h=gr(A,7),g=h.t,V=h.l,O=19;O>4&&!g[yr[O-1]];--O);var Z=u+5<<3,B=fr(f,_)+fr(l,vr)+o,S=fr(f,M)+fr(l,C)+o+14+3*O+fr(A,g)+2*A[16]+3*A[17]+7*A[18];if(w>=0&&Z<=B&&Z<=S)return Or(a,v,r.subarray(w,w+u));var I,F,s,K;if(Y(a,v,1+(S<B)),v+=2,S<B){I=Q(M,b,0),F=M,s=Q(C,P,0),K=C;var d=Q(g,V,0);Y(a,v,H-257),Y(a,v+5,q-1),Y(a,v+10,O-4),v+=14;for(var c=0;c<O;++c)Y(a,v+3*c,g[yr[c]]);v+=3*O;for(var D=[x,E],R=0;R<2;++R)for(var X=D[R],c=0;c<X.length;++c){var m=X[c]&31;Y(a,v,d[m]),v+=g[m],m>15&&(Y(a,v,X[c]>>5&127),v+=X[c]>>12)}}else I=Rr,F=_,s=jr,K=vr;for(var c=0;c<t;++c){var T=n[c];if(T>255){var m=T>>18&31;nr(a,v,I[m+257]),v+=F[m+257],m>7&&(Y(a,v,T>>23&31),v+=lr[m]);var N=T&31;nr(a,v,s[N]),v+=K[N],N>3&&(nr(a,v,T>>5&8191),v+=or[N])}else nr(a,v,I[T]),v+=F[T]}return nr(a,v,I[256]),v+F[256]},Nr=new xr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ir=new k(0),Qr=function(r,a,e,n,f,l){var o=l.z||r.length,t=new k(n+o+5*(1+Math.ceil(o/7e3))+f),w=t.subarray(n,t.length-f),u=l.l,v=(l.r||0)&7;if(a){v&&(w[0]=l.r>>3);for(var i=Nr[a-1],M=i>>13,b=i&8191,z=(1<<e)-1,C=l.p||new G(32768),P=l.h||new G(z+1),j=Math.ceil(e/3),x=2*j,H=function(hr){return(r[hr]^r[hr+1]<<j^r[hr+2]<<x)&z},U=new xr(25e3),E=new G(288),q=new G(32),A=0,c=0,h=l.i||0,g=0,V=l.w||0,O=0;h+2<o;++h){var Z=H(h),B=h&32767,S=P[Z];if(C[B]=S,P[Z]=B,V<=h){var I=o-h;if((A>7e3||g>24576)&&(I>423||!u)){v=Sr(r,w,0,U,E,q,c,g,O,h-O,v),g=A=c=0,O=h;for(var F=0;F<286;++F)E[F]=0;for(var F=0;F<30;++F)q[F]=0}var s=2,K=0,d=b,D=B-S&32767;if(I>2&&Z==H(h-D))for(var R=Math.min(M,I)-1,X=Math.min(32767,h),m=Math.min(258,I);D<=X&&--d&&B!=S;){if(r[h+s]==r[h+s-D]){for(var T=0;T<m&&r[h+T]==r[h+T-D];++T);if(T>s){if(s=T,K=D,T>R)break;for(var N=Math.min(D,T-2),L=0,F=0;F<N;++F){var p=h-D+F&32767,tr=C[p],rr=p-tr&32767;rr>L&&(L=rr,S=p)}}}B=S,S=C[B],D+=B-S&32767}if(K){U[g++]=268435456|sr[s]<<18|Tr[K];var ar=sr[s]&31,er=Tr[K]&31;c+=lr[ar]+or[er],++E[257+ar],++q[er],V=h+s,++A}else U[g++]=r[h],++E[r[h]]}}for(h=Math.max(h,V);h<o;++h)U[g++]=r[h],++E[r[h]];v=Sr(r,w,u,U,E,q,c,g,O,h-O,v),u||(l.r=v&7|w[v/8|0]<<3,v-=7,l.h=P,l.p=C,l.i=h,l.w=V)}else{for(var h=l.w||0;h<o+u;h+=65535){var ur=h+65535;ur>=o&&(w[v/8|0]=u,ur=o),v=Or(w,v+1,r.subarray(h,ur))}l.i=o}return ir(t,0,n+Fr(v)+f)},qr=function(){var r=1,a=0;return{p:function(e){for(var n=r,f=a,l=e.length|0,o=0;o!=l;){for(var t=Math.min(o+2655,l);o<t;++o)f+=n+=e[o];n=(n&65535)+15*(n>>16),f=(f&65535)+15*(f>>16)}r=n,a=f},d:function(){return r%=65521,a%=65521,(r&255)<<24|(r&65280)<<8|(a&255)<<8|a>>8}}},Vr=function(r,a,e,n,f){if(!f&&(f={l:1},a.dictionary)){var l=a.dictionary.subarray(-32768),o=new k(l.length+r.length);o.set(l),o.set(r,l.length),r=o,f.w=l.length}return Qr(r,a.level==null?6:a.level,a.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+a.mem,e,n,f)},Br=function(r,a,e){for(;e;++a)r[a]=e,e>>>=8},Xr=function(r,a){var e=a.level,n=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=n<<6|(a.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,a.dictionary){var f=qr();f.p(a.dictionary),Br(r,2,f.d())}},Yr=function(r,a){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&W(6,"invalid zlib data"),(r[1]>>5&1)==+!a&&W(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function Zr(r,a){a||(a={});var e=qr();e.p(r);var n=Vr(r,a,a.dictionary?6:2,4);return Xr(n,a),Br(n,n.length-4,e.d()),n}function $r(r,a){return Kr(r.subarray(Yr(r,a&&a.dictionary),-4),{i:2},a&&a.out,a&&a.dictionary)}var zr=typeof TextEncoder<"u"&&new TextEncoder,br=typeof TextDecoder<"u"&&new TextDecoder,_r=0;try{br.decode(Ir,{stream:!0}),_r=1}catch{}var Lr=function(r){for(var a="",e=0;;){var n=r[e++],f=(n>127)+(n>223)+(n>239);if(e+f>r.length)return{s:a,r:ir(r,e-1)};f?f==3?(n=((n&15)<<18|(r[e++]&63)<<12|(r[e++]&63)<<6|r[e++]&63)-65536,a+=String.fromCharCode(55296|n>>10,56320|n&1023)):f&1?a+=String.fromCharCode((n&31)<<6|r[e++]&63):a+=String.fromCharCode((n&15)<<12|(r[e++]&63)<<6|r[e++]&63):a+=String.fromCharCode(n)}};function Dr(r,a){if(a){for(var e=new k(r.length),n=0;n<r.length;++n)e[n]=r.charCodeAt(n);return e}if(zr)return zr.encode(r);for(var f=r.length,l=new k(r.length+(r.length>>1)),o=0,t=function(v){l[o++]=v},n=0;n<f;++n){if(o+5>l.length){var w=new k(o+8+(f-n<<1));w.set(l),l=w}var u=r.charCodeAt(n);u<128||a?t(u):u<2048?(t(192|u>>6),t(128|u&63)):u>55295&&u<57344?(u=65536+(u&1047552)|r.charCodeAt(++n)&1023,t(240|u>>18),t(128|u>>12&63),t(128|u>>6&63),t(128|u&63)):(t(224|u>>12),t(128|u>>6&63),t(128|u&63))}return ir(l,0,o)}function Gr(r,a){if(a){for(var e="",n=0;n<r.length;n+=16384)e+=String.fromCharCode.apply(null,r.subarray(n,n+16384));return e}else{if(br)return br.decode(r);var f=Lr(r),l=f.s,e=f.r;return e.length&&W(8),l}}function ra(r,a=100){let e;return(...n)=>{e&&clearTimeout(e),e=setTimeout(()=>{r(...n)},a)}}function aa(r){const a=Dr(r),e=Zr(a,{level:9}),n=Gr(e,!0);return btoa(n)}function ea(r){const a=atob(r);if(a.startsWith("xÚ")){const e=Dr(a,!0),n=$r(e);return Gr(n)}return decodeURIComponent(escape(a))}export{ea as a,pr as c,ra as d,dr as g,aa as u};
